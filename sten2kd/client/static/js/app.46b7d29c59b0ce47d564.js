webpackJsonp([1],{"2LXG":function(e,t){},GAGD:function(e,t){},J373:function(e,t){},NHnr:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("7+uW"),a=r("Xxa5"),s=r.n(a),i=r("exGp"),o=r.n(i),c=r("mvHQ"),u=r.n(c),l=r("Zrlr"),p=r.n(l),d=r("wxAW"),f=r.n(d),m=r("mtWM"),h=r.n(m),v=r("mw3O"),y=r.n(v);h.a.defaults.withCredentials=!0;var g=function(){function e(){p()(this,e),this._domain="erp.51sten.com"}return f()(e,[{key:"format",value:function(e,t){var r={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};for(var n in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length))),r)new RegExp("("+n+")").test(t)&&(t=t.replace(RegExp.$1,1===RegExp.$1.length?r[n]:("00"+r[n]).substr((""+r[n]).length)));return t}},{key:"init",value:function(){var e=o()(s.a.mark(function e(){var t,r,n,a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get("/sheet/careSheetIn");case 2:return t=e.sent,r=t.data,n=(n=r.substring(r.indexOf('_csrf" content="')+16)).substring(0,n.indexOf('"/>')),this.csrf=n,a=(a=r.substring(r.indexOf("USERNAME: '")+11)).substring(0,a.indexOf("'")),this.user=a,e.next=12,this.deptList();case 12:this.depts=e.sent,console.log("this",this.user,this.csrf);case 14:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"UserInfo",value:function(){var e=o()(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.user);case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"WorkQuery",value:function(){var e=o()(s.a.mark(function e(t,r,n,a){var i,o;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=r?this.format(new Date(r),"yyyy-MM-dd"):this.format(new Date,"yyyy-MM-dd"),t=t?this.format(new Date(t),"yyyy-MM-dd"):r,(i={_csrf:this.csrf}).interest=0,i.shortName="",i["interest-2"]=0,i.startDate1=t,i.plateNo="",i.careNo="",i.careStatus="",i.receiverId="",i.sourceId="",i.selectDeptId=n||"",i.careStatus1=6,i.endDate1=r+" 23:59:59",e.next=17,h()({url:"/sheet/pageCareSheet",method:"POST",headers:{"content-type":"application/x-www-form-urlencoded"},data:y.a.stringify({page:1,limit:1e3,treeValue:u()(i),_csrf:this.csrf,index:1,size:1e3})});case 17:return o=e.sent,e.abrupt("return",o.data.rows);case 19:case"end":return e.stop()}},e,this)}));return function(t,r,n,a){return e.apply(this,arguments)}}()},{key:"deptList",value:function(){var e=o()(s.a.mark(function e(){var t;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this._deptList){e.next=5;break}return e.next=3,h()({url:"/deptInfo/getDeptInfo",method:"POST",headers:{"content-type":"application/x-www-form-urlencoded"},data:y.a.stringify({upId:"dda6cb61c9604a69b16d26e0dd3db6b8",_csrf:this.csrf})});case 3:t=e.sent,this._deptList=t.data;case 5:return e.abrupt("return",this._deptList);case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"SalePosteQuery",value:function(){var e=o()(s.a.mark(function e(t,r,n,a){var i,o;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=r?this.format(new Date(r),"yyyy-MM-dd"):this.format(new Date,"yyyy-MM-dd"),t=t?this.format(new Date(t),"yyyy-MM-dd"):r,(i={_csrf:this.csrf}).autoId="",i.customerId="",i.interest=0,i.partName1="",i["interest-2"]=1,i.firstBalanceTime=t,i.modelName="",i.firmNo="",i.groupName="",i.partNo="",i.sheetSource="",i.customerName="",i.plateNo="",i.careNo="",i.attribute="",i.spec="",i.isPackPart="",i.receiverId="",i.selectDeptId=n,i.firstBalanceTime1=r+" 23:59:59",e.next=25,h()({url:"/dispatch/findDispatchCarePart",method:"POST",headers:{"content-type":"application/x-www-form-urlencoded"},data:y.a.stringify({page:1,limit:1e4,_csrf:this.csrf,treeValue:u()(i),index:1,size:1e4})});case 25:return o=e.sent,e.abrupt("return",o.data.rows);case 27:case"end":return e.stop()}},e,this)}));return function(t,r,n,a){return e.apply(this,arguments)}}()},{key:"SaleIssueQuery",value:function(){var e=o()(s.a.mark(function e(t,r,n,a){var i,o;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=r?this.format(new Date(r),"yyyy-MM-dd"):this.format(new Date,"yyyy-MM-dd"),t=t?this.format(new Date(t),"yyyy-MM-dd"):r,(i={_csrf:this.csrf}).interest=0,i.outputNo="",i.categoryId="",i.startDate=t,i.takerId="",i.selectDeptId=n,i.endDate=r+" 23:59:59",e.next=12,h()({url:"/store/findOutSheetInfo",method:"POST",headers:{"content-type":"application/x-www-form-urlencoded"},data:y.a.stringify({param:u()(i),page:1,rows:1e4,_csrf:this.csrf})});case 12:return o=e.sent,e.abrupt("return",o.data.rows);case 14:case"end":return e.stop()}},e,this)}));return function(t,r,n,a){return e.apply(this,arguments)}}()},{key:"SaleIssueEntryQuery",value:function(){var e=o()(s.a.mark(function e(t,r,n,a){var i,o;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=r?this.format(new Date(r),"yyyy-MM-dd"):this.format(new Date,"yyyy-MM-dd"),t=t?this.format(new Date(t),"yyyy-MM-dd"):r,(i={_csrf:this.csrf}).interest=0,i.outputNo="",i.storeId="",i.positionId="",i.startViDate="",i.categoryId="",i.handler="",i.takerId="",i.outPutStatus=1,i.selectDeptId=n,i.startDate=t,i.endDate=r+" 23:59:59",e.next=17,h()({url:"/outputsheet/findOutputDetail",method:"POST",headers:{"content-type":"application/x-www-form-urlencoded"},data:y.a.stringify({treeValue:u()(i),page:1,rows:1e4,_csrf:this.csrf})});case 17:return o=e.sent,e.abrupt("return",o.data.rows);case 19:case"end":return e.stop()}},e,this)}));return function(t,r,n,a){return e.apply(this,arguments)}}()},{key:"FeeInvoiceQuery",value:function(){var e=o()(s.a.mark(function e(t,r,n,a){var i,o;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=r?this.format(new Date(r),"yyyy-MM-dd"):this.format(new Date,"yyyy-MM-dd"),t=t?this.format(new Date(t),"yyyy-MM-dd"):r,(i={_csrf:this.csrf}).interest=1,i.targetName="",i["interest-2"]=0,i.startDate=t,i.careNo="",i.itemStatus=2,i.plateNo="",i.careStatus="",i.receiverId="",i.itemName="",i.vinNo="",i.attribute="",i.isSurface="",i.selectDeptId=n,i.isHead=0,i.upId="",i.endDate=r+" 23:59:59",e.next=22,h()({url:"/dispatch/findDispatchCareItem",method:"POST",headers:{"content-type":"application/x-www-form-urlencoded"},data:y.a.stringify({page:1,limit:10,param:u()(i),_csrf:this.csrf,index:1,size:1e4})});case 22:return o=e.sent,e.abrupt("return",o.data.rows);case 24:case"end":return e.stop()}},e,this)}));return function(t,r,n,a){return e.apply(this,arguments)}}()},{key:"auth",value:function(){var e=o()(s.a.mark(function e(t,r){var n,a,i,o;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get("https://erp.51sten.com");case 2:return n=e.sent,this._cookies=n.headers["set-cookie"],n=(n=(n=n.data).substring(n.indexOf("_csrf")+16)).substring(0,n.indexOf('"/>')),this._csrf=n,a=this._cookies[0].split(";")[0],i=this._cookies[1].split(";")[0],o="http://erp.51sten.com/j_spring_security_check;"+a,e.next=13,h()({url:o,method:"POST",headers:{"content-type":"application/x-www-form-urlencoded",Cookie:a+";"+i,Host:this._domain,Origin:"http://"+this._domain+"/"},data:y.a.stringify({_csrf:this._csrf,username:t,response:"",password:r})});case 13:return n=e.sent,this._cookies=n.headers["set-cookie"],n=n.data,e.abrupt("return",n);case 17:case"end":return e.stop()}},e,this)}));return function(t,r){return e.apply(this,arguments)}}()},{key:"initParams",value:function(e){return(e=e||{}).begDate=e.begDate||"",e.endDate=e.endDate||"",e.pageSize=e.pageSize||50,e.page=e.page||1,e}},{key:"Work",value:function(){var e=o()(s.a.mark(function e(t){var r,n;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.initParams(t),(r={_csrf:this.csrf}).interest=0,r.shortName="",r["interest-2"]=0,r.startDate1=t.begDate,r.plateNo="",r.careNo="",r.careStatus="",r.receiverId="",r.sourceId="",r.selectDeptId=t.deptId||"",r.careStatus1=6,r.endDate1=t.endDate+" 23:59:59",e.next=16,h()({url:"/sheet/pageCareSheet",method:"POST",headers:{"content-type":"application/x-www-form-urlencoded"},data:y.a.stringify({page:t.page,limit:t.pageSize,treeValue:u()(r),_csrf:this.csrf,index:1,size:t.pageSize})});case 16:return n=e.sent,e.abrupt("return",n.data.rows);case 18:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"SalePost",value:function(){var e=o()(s.a.mark(function e(t){var r,n;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.initParams(t),(r={_csrf:this.csrf}).autoId="",r.customerId="",r.interest=0,r.partName1="",r["interest-2"]=1,r.firstBalanceTime=t.begDate,r.modelName="",r.firmNo="",r.groupName="",r.partNo="",r.sheetSource="",r.customerName="",r.plateNo="",r.careNo="",r.attribute="",r.spec="",r.isPackPart="",r.receiverId="",r.selectDeptId=t.deptId||"",r.firstBalanceTime1=t.endDate+" 23:59:59",e.next=24,h()({url:"/dispatch/findDispatchCarePart",method:"POST",headers:{"content-type":"application/x-www-form-urlencoded"},data:y.a.stringify({page:t.page,limit:t.pageSize,_csrf:this.csrf,treeValue:u()(r),index:1,size:t.pageSize})});case 24:return n=e.sent,e.abrupt("return",n.data.rows);case 26:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"SaleIssue",value:function(){var e=o()(s.a.mark(function e(t){var r,n;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.initParams(t),(r={_csrf:this.csrf}).interest=0,r.outputNo="",r.categoryId="",r.startDate=t.begDate,r.takerId="",r.selectDeptId=t.deptId||"",r.endDate=t.endDate+" 23:59:59",e.next=11,h()({url:"/store/findOutSheetInfo",method:"POST",headers:{"content-type":"application/x-www-form-urlencoded"},data:y.a.stringify({param:u()(r),page:t.page,rows:t.pageSize,_csrf:this.csrf})});case 11:return n=e.sent,e.abrupt("return",n.data.rows);case 13:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"SaleIssueEntry",value:function(){var e=o()(s.a.mark(function e(t){var r,n;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.initParams(t),(r={_csrf:this.csrf}).interest=0,r.outputNo="",r.storeId="",r.positionId="",r.startViDate="",r.categoryId="",r.handler="",r.takerId="",r.outPutStatus=1,r.selectDeptId=t.deptId||"",r.startDate=t.begDate,r.endDate=t.endDate+" 23:59:59",e.next=16,h()({url:"/outputsheet/findOutputDetail",method:"POST",headers:{"content-type":"application/x-www-form-urlencoded"},data:y.a.stringify({treeValue:u()(r),page:t.page,rows:t.pageSize,_csrf:this.csrf})});case 16:return n=e.sent,e.abrupt("return",n.data.rows);case 18:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"FeeInvoice",value:function(){var e=o()(s.a.mark(function e(t){var r,n;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.initParams(t),(r={_csrf:this.csrf}).interest=1,r.targetName="",r["interest-2"]=0,r.startDate=t.begDate,r.careNo="",r.itemStatus=2,r.plateNo="",r.careStatus="",r.receiverId="",r.itemName="",r.vinNo="",r.attribute="",r.isSurface="",r.selectDeptId=t.deptId||"",r.isHead=0,r.upId="",r.endDate=t.endDate+" 23:59:59",e.next=21,h()({url:"/dispatch/findDispatchCareItem",method:"POST",headers:{"content-type":"application/x-www-form-urlencoded"},data:y.a.stringify({page:t.page,limit:t.pageSize,param:u()(r),_csrf:this.csrf,index:1,size:t.pageSize})});case 21:return n=e.sent,e.abrupt("return",n.data.rows);case 23:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"PurIn",value:function(){var e=o()(s.a.mark(function e(t){var r,n;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.initParams(t),(r={_csrf:this.csrf}).interest=0,r.purchaseNo="",r.plateNo="",r.purchaseStatus="",r.tdstartDate="",r.buyerId="",r.selectDeptId="",r.sheetStartDate=t.begDate+" 至 "+t.endDate,r.startDate=t.begDate,r.endDate=t.endDate+" 23:59:59",e.next=14,h()({url:"/purchase/getInPurSheetSheetList",method:"POST",headers:{"content-type":"application/x-www-form-urlencoded"},data:y.a.stringify({page:t.page,limit:t.pageSize,param:u()(r),_csrf:this.csrf,index:1,size:t.pageSize})});case 14:return n=e.sent,e.abrupt("return",n.data.rows);case 16:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"PurInEntry",value:function(){var e=o()(s.a.mark(function e(t){var r,n;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.initParams(t),(r={_csrf:this.csrf}).interest="0",r.purchaseNo="",r.storeId="",r.positionId="",r.viewInStartDate=t.begDate+" 至 "+t.endDate,r.plateNo="",r.receiverId="",r.viewPurStartDate="",r.selectDeptId="",r.inStartDate=t.begDate,r.inEndDate=t.endDate+" 23:59:59",e.next=15,h()({url:"/partInfo/getPurchasePartByPage",method:"POST",headers:{"content-type":"application/x-www-form-urlencoded"},data:y.a.stringify({page:t.page,limit:t.pageSize,param:u()(r),_csrf:this.csrf,index:1,size:t.pageSize})});case 15:return n=e.sent,e.abrupt("return",n.data.rows);case 17:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"PurReturn",value:function(){var e=o()(s.a.mark(function e(t){var r,n;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.initParams(t),(r={_csrf:this.csrf}).outputNo="",r.firmNo="",r.partNo="",r.tdstartDate=t.begDate+" 至 "+t.endDate,r.partName="",r.supplierName="",r.barCode="",r.remark="",r.selectDeptId="",r.startDate=t.begDate,r.endDate=t.endDate+" 23:59:59",e.next=15,h()({url:"/outputsheet/findPurchaseOutputsheet",method:"POST",headers:{"content-type":"application/x-www-form-urlencoded"},data:y.a.stringify({page:t.page,limit:t.pageSize,param:u()(r),_csrf:this.csrf,index:1,size:t.pageSize})});case 15:return n=e.sent,e.abrupt("return",n.data.rows);case 17:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"PurReturnEntry",value:function(){var e=o()(s.a.mark(function e(t){var r,n;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.initParams(t),(r={_csrf:this.csrf}).interest=0,r.outputNo="",r.storeId="",r.positionId="",r.firmNo="",r.partNo="",r.outputTime=t.begDate+" 至 "+t.endDate,r.taker="",r.handler="",r.partName="",r.supplierName="",r.barCode="",r.remark="",r.selectDeptId="",r.startDate=t.begDate,r.endDate=t.endDate+" 23:59:59",e.next=20,h()({url:"/outputsheet/selectPurOutDetailByPage",method:"POST",headers:{"content-type":"application/x-www-form-urlencoded"},data:y.a.stringify({page:t.page,limit:t.pageSize,param:u()(r),_csrf:this.csrf,index:1,size:t.pageSize})});case 20:return n=e.sent,e.abrupt("return",n.data.rows);case 22:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"StockTaking",value:function(){var e=o()(s.a.mark(function e(t){var r,n;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.initParams(t),(r={_csrf:this.csrf}).inventoryNo="",r.selectDeptId="",r.tdstartDate=t.begDate+" 至 "+t.endDate,r.startDate=t.begDate,r.endDate=t.endDate+" 23:59:59",e.next=9,h()({url:"/Inventory/getInventorySheetList",method:"POST",headers:{"content-type":"application/x-www-form-urlencoded"},data:y.a.stringify({page:t.page,limit:t.pageSize,param:u()(r),_csrf:this.csrf,index:1,size:t.pageSize})});case 9:return n=e.sent,e.abrupt("return",n.data.rows);case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"StockTakingEntry",value:function(){var e=o()(s.a.mark(function e(t){var r,n;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.initParams(t),(r={_csrf:this.csrf}).interest=0,r.inventoryNo="",r.storeId="",r.positionId="",r.startViDate=t.begDate+" 至 "+t.endDate,r.handler="",r.receiverId="",r.categoryName="",r.selectDeptId="",r.tdstartDate="",r.createTime="",r.startDate1=t.begDate,r.endDate1=t.endDate+" 23:59:59",e.next=17,h()({url:"/Inventory/findInventorySheetGrid",method:"POST",headers:{"content-type":"application/x-www-form-urlencoded"},data:y.a.stringify({page:t.page,limit:t.pageSize,param:u()(r),_csrf:this.csrf,index:1,size:t.pageSize})});case 17:return n=e.sent,e.abrupt("return",n.data.rows);case 19:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"OtherIn",value:function(){var e=o()(s.a.mark(function e(t){var r,n;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.initParams(t),(r={_csrf:this.csrf}).inputStatus="",r.interest=0,r.inputNo="",r.handler="",r.categoryId="",r.tdstartDate=t.begDate+" 至 "+t.endDate,r.selectDeptId="",r.startDate=t.begDate,r.endDate=t.endDate+" 23:59:59",e.next=13,h()({url:"/inputsheet/findOtherInputsheet",method:"POST",headers:{"content-type":"application/x-www-form-urlencoded"},data:y.a.stringify({page:t.page,limit:t.pageSize,param:u()(r),_csrf:this.csrf,index:1,size:t.pageSize})});case 13:return n=e.sent,e.abrupt("return",n.data.rows);case 15:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"OtherInEntry",value:function(){var e=o()(s.a.mark(function e(t){var r,n;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.initParams(t),(r={_csrf:this.csrf}).interest=0,r.inputNo="",r.storeId="",r.positionId="",r.startViDate=t.begDate+" 至 "+t.endDate,r.startDate=t.begDate,r.endDate=t.endDate+" 23:59:59",r.handler="",r.categoryId="",r.operater="",r.receiverId="",r.selectDeptId="",e.next=16,h()({url:"/inputsheet/findOtherInputDetail",method:"POST",headers:{"content-type":"application/x-www-form-urlencoded"},data:y.a.stringify({page:t.page,limit:t.pageSize,param:u()(r),_csrf:this.csrf,index:1,size:t.pageSize})});case 16:return n=e.sent,e.abrupt("return",n.data.rows);case 18:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"OtherIssue",value:function(){var e=o()(s.a.mark(function e(t){var r,n;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.initParams(t),(r={_csrf:this.csrf}).outputStatus="",r.interest=0,r.outputNo="",r.categoryId="",r.tdstartDate=t.begDate+" 至 "+t.endDate,r.startDate=t.begDate,r.endDate=t.endDate+" 23:59:59",r.taker="",r.selectDeptId="",e.next=13,h()({url:"/outputsheet/findOtherOutputsheet",method:"POST",headers:{"content-type":"application/x-www-form-urlencoded"},data:y.a.stringify({page:t.page,limit:t.pageSize,param:u()(r),_csrf:this.csrf,index:1,size:t.pageSize})});case 13:return n=e.sent,e.abrupt("return",n.data.rows);case 15:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"OtherIssueEntry",value:function(){var e=o()(s.a.mark(function e(t){var r,n;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.initParams(t),(r={_csrf:this.csrf}).interest=0,r.outputNo="",r.storeId="",r.positionId="",r.categoryId="",r.startViDate=t.begDate+" 至 "+t.endDate,r.startDate=t.begDate,r.endDate=t.endDate+" 23:59:59",r.taker="",r.handler="",r.selectDeptId="",e.next=15,h()({url:"/outputsheet/findOtherOutputDetail",method:"POST",headers:{"content-type":"application/x-www-form-urlencoded"},data:y.a.stringify({page:t.page,limit:t.pageSize,param:u()(r),_csrf:this.csrf,index:1,size:t.pageSize})});case 15:return n=e.sent,e.abrupt("return",n.data.rows);case 17:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"MaterialReturn",value:function(){var e=o()(s.a.mark(function e(t){var r,n;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.initParams(t),(r={_csrf:this.csrf}).inputStatus=0,r.interest=0,r.relateNo="",r.categoryId="",r.tdstartDate=t.begDate+" 至 "+t.endDate,r.startDate=t.begDate,r.endDate=t.endDate+" 23:59:59",r.handler="",e.next=12,h()({url:"/inputsheet/findRequisitionInput",method:"POST",headers:{"content-type":"application/x-www-form-urlencoded"},data:y.a.stringify({page:t.page,limit:t.pageSize,param:u()(r),_csrf:this.csrf,index:1,size:t.pageSize})});case 12:return n=e.sent,e.abrupt("return",n.data.rows);case 14:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"MaterialReturnEntry",value:function(){var e=o()(s.a.mark(function e(t){var r,n;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.initParams(t),(r={_csrf:this.csrf}).interest=0,r.partName="",r.storeId="",r.positionId="",r.categoryId="",r.startViDate=t.begDate+" 至 "+t.endDate,r.startDate=t.begDate,r.endDate=t.endDate+" 23:59:59",r.receiverId="",r.handler="",r.creatorId="",e.next=15,h()({url:"/partInfo/getRequisitionPartInByPage",method:"POST",headers:{"content-type":"application/x-www-form-urlencoded"},data:y.a.stringify({page:t.page,limit:t.pageSize,param:u()(r),_csrf:this.csrf,index:1,size:t.pageSize})});case 15:return n=e.sent,e.abrupt("return",n.data.rows);case 17:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"Achievement",value:function(){var e=o()(s.a.mark(function e(t){var r,n;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.initParams(t),(r={_csrf:this.csrf}).careNo="",r.plateNo="",r.targetName="",r.startDate="",r.name="",r.groupId="",r.careStatus="",r.categoryId="",r.startDate1=t.begDate,r.startDate2="",r.startDate3="",r.packageName="",r.endDate1=t.endDate+" 23:59:59",e.next=17,h()({url:"/careSheet/getItemPriceByPage",method:"POST",headers:{"content-type":"application/x-www-form-urlencoded"},data:y.a.stringify({page:t.page,rows:t.pageSize,treeValue:u()(r),_csrf:this.csrf})});case 17:return n=e.sent,e.abrupt("return",n.data.rows);case 19:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),e}(),k={name:"App",data:function(){return{sten:{},user:void 0}},mounted:function(){this.init()},methods:{init:function(){var e=this;return o()(s.a.mark(function t(){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.sten=new g,t.next=3,e.sten.init();case 3:e.user=e.sten.user;case 4:case"end":return t.stop()}},t,e)}))()}}},w={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("el-divider",[e._v("思腾-金蝶接口")]),e._v(" "),r("el-col",{attrs:{span:4}},[r("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":"2"},on:{open:e.handleOpen,close:e.handleClose}},["FSJRPDIGLY"===e.user?r("el-menu-item",{attrs:{index:"0"}},[r("i",{staticClass:"el-icon-document"}),e._v(" "),r("span",{attrs:{slot:"title"},slot:"title"},[r("router-link",{attrs:{to:{name:"Test"}}},[e._v("定时同步")])],1)]):e._e(),e._v(" "),r("el-menu-item",{attrs:{index:"1"}},[r("i",{staticClass:"el-icon-document"}),e._v(" "),r("span",{attrs:{slot:"title"},slot:"title"},[r("router-link",{attrs:{to:{name:"StenWork"}}},[e._v("接车工单")])],1)]),e._v(" "),r("el-submenu",{attrs:{index:"2"}},[r("template",{slot:"title"},[r("i",{staticClass:"el-icon-location"}),e._v(" "),r("span",[e._v("仓储")])]),e._v(" "),r("el-menu-item-group",[r("el-menu-item",{attrs:{index:"2-1"}},[r("router-link",{attrs:{to:{name:"PurIn"}}},[e._v("采购入库")])],1),e._v(" "),r("el-menu-item",{attrs:{index:"2-2"}},[r("router-link",{attrs:{to:{name:"PurReturn"}}},[e._v("采购退货")])],1),e._v(" "),r("el-menu-item",{attrs:{index:"2-3"}},[r("router-link",{attrs:{to:{name:"Stocktaking"}}},[e._v("盘点")])],1),e._v(" "),r("el-menu-item",{attrs:{index:"2-4"}},[r("router-link",{attrs:{to:{name:"OtherIn"}}},[e._v("其他入库")])],1),e._v(" "),r("el-submenu",{attrs:{index:"2-5"}},[r("template",{slot:"title"},[e._v("其他出库")]),e._v(" "),r("el-menu-item",{attrs:{index:"2-5-1"}},[r("router-link",{attrs:{to:{name:"OtherIssue_Give"}}},[e._v("赠送物料")])],1),e._v(" "),r("el-menu-item",{attrs:{index:"2-5-2"}},[r("router-link",{attrs:{to:{name:"OtherIssue_Loss"}}},[e._v("损耗")])],1),e._v(" "),r("el-menu-item",{attrs:{index:"2-5-3"}},[r("router-link",{attrs:{to:{name:"OtherIssue_Tailings"}}},[e._v("尾料出库")])],1)],2),e._v(" "),r("el-menu-item",{attrs:{index:"2-6"}},[r("router-link",{attrs:{to:{name:"MatRet"}}},[e._v("退料")])],1)],1)],2),e._v(" "),r("el-submenu",{attrs:{index:"3"}},[r("template",{slot:"title"},[r("i",{staticClass:"el-icon-location"}),e._v(" "),r("span",[e._v("财务")])]),e._v(" "),r("el-menu-item-group",[r("el-menu-item",{attrs:{index:"3-1"}},[r("router-link",{attrs:{to:{name:"Achievement"}}},[e._v("施工业绩")])],1)],1)],2)],1)],1),e._v(" "),r("el-col",{attrs:{span:20}},[r("router-view")],1)],1)},staticRenderFns:[]};var b=r("VU/8")(k,w,!1,function(e){r("2LXG")},null,null).exports,x=r("/ocq"),N=r("Gu7T"),_=r.n(N),D=r("PJh5"),S=r.n(D),I=function(){function e(){p()(this,e),this._domain="/api"}return f()(e,[{key:"SyncStatus",value:function(){var e=o()(s.a.mark(function e(t){var r;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h()({method:"POST",url:this._domain+"/syncstatus",data:t,header:{"Content-Type":"application/json"}});case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"Sync",value:function(){var e=o()(s.a.mark(function e(t){var r,n,a,i,o,c,l,p,d,f,m,v,y,g,k,w;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(n in r={date:t.firstBalanceTime,billNo:t.careNo+"-"+t.plateNo,cust:t.shortName,emp:t.sheetSource,feeAmount:0,note:t.sRemark+"-"+t.plateNo,plateNo:t.plateNo,fee:[],issue:[]},t.fee)a=t.fee[n],r.fee.push({itemNo:a.itemNo,itemName:a.itemName,qty:a.quantity,price:a.discountPrice/a.quantity,amount:a.discountPrice}),r.feeAmount+=a.discountPrice;for(n in i={},t.post)o=t.post[n],void 0===i[o.partName+"|"+o.spec]&&(i[o.partName+"|"+o.spec]=[]),i[o.partName+"|"+o.spec].push({codeName:o.codeName,qty:o.quantity,price:o.discountPrice});c={},e.t0=s.a.keys(t.issue);case 6:if((e.t1=e.t0()).done){e.next=49;break}n=e.t1.value,l=t.issue[n],p=l.entry.length,d=0;case 11:if(!(d<p)){e.next=47;break}if(f=l.entry[d],!(m=i[f.partName+"|"+f.spec])){e.next=41;break}v=0;case 16:if(!(v<m.length)){e.next=41;break}if(!((y=m[v]).qty>0)){e.next=38;break}if(!(y.qty>=f.quantity)){e.next=27;break}return y.qty-=f.quantity,f.codeName=y.codeName,f.sellingPrice=y.price,f.sellingPriceTotal=y.price*f.quantity,e.abrupt("break",41);case 27:return(g=JSON.parse(u()(f))).quantity=f.quantity-y.qty,l.entry.push(g),p+=1,f.codeName=y.codeName,f.quantity=y.qty,f.sellingPrice=y.price,f.sellingPriceTotal=y.qty*y.price,f.salePriceTotal=y.qty*f.salePrice,y.qty=0,e.abrupt("break",41);case 38:++v,e.next=16;break;case 41:a={stock:f.storeName,position:f.positionName,itemName:f.partName,itemModel:f.spec,codeName:f.codeName||"",unit:f.unit,qty:f.quantity,settlePrice:f.salePrice,price:f.sellingPrice,settleAmount:f.salePriceTotal,amount:f.sellingPriceTotal},k=a.stock+"|"+a.position+"|"+a.itemName+"|"+a.itemModel+"|"+a.unit+"|"+a.codeName,c[k]?(c[k].qty+=a.qty,c[k].amount+=a.amount,c[k].price=c[k].amount/c[k].qty,c[k].settleAmount+=a.settleAmount,c[k].settlePrice=c[k].settleAmount/c[k].qty):c[k]=a;case 44:++d,e.next=11;break;case 47:e.next=6;break;case 49:for(k in c)r.issue.push(c[k]);return e.next=52,h()({method:"POST",url:this._domain+"/sync",data:r,header:{"Content-Type":"application/json"}});case 52:return w=e.sent,e.abrupt("return",w.data);case 54:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"StenObj",value:function(){var e=o()(s.a.mark(function e(t,r){var n,a,i;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t,e.next="Work"===e.t0?3:"SalePost"===e.t0?5:"SaleIssue"===e.t0?7:"SaleIssueEntry"===e.t0?9:"FeeInvoice"===e.t0?11:"PurIn"===e.t0?13:"PurInEntry"===e.t0?15:"PurReturn"===e.t0?17:"PurReturnEntry"===e.t0?19:"StockTaking"===e.t0?21:"StockTakingEntry"===e.t0?23:"OtherIn"===e.t0?25:"OtherInEntry"===e.t0?27:"OtherIssue"===e.t0?29:"OtherIssueEntry"===e.t0?31:"MaterialReturn"===e.t0?33:"MaterialReturnEntry"===e.t0?35:"Achievement"===e.t0?37:39;break;case 3:return n="careId",e.abrupt("break",39);case 5:return n=["careId","carePartId"],e.abrupt("break",39);case 7:return n="outputId",e.abrupt("break",39);case 9:return n=["outputNo","partName","selfNo"],e.abrupt("break",39);case 11:return n=["careId","careItemId","targetId"],e.abrupt("break",39);case 13:return n="inputId",e.abrupt("break",39);case 15:return n=["inputNo","partName","selfNo","purchaseNo"],e.abrupt("break",39);case 17:case 19:return n=[],e.abrupt("break",39);case 21:return n="inventoryId",e.abrupt("break",39);case 23:return n=["inventoryId","spec","partName","selfNo"],e.abrupt("break",39);case 25:return n="inputId",e.abrupt("break",39);case 27:return n=["inputNo","storeName","partName","selfNo"],e.abrupt("break",39);case 29:return n="outputId",e.abrupt("break",39);case 31:return n=["outputNo","categoryName","partName","selfNo"],e.abrupt("break",39);case 33:return n="inputId",e.abrupt("break",39);case 35:return n=["autoId","inputId"],e.abrupt("break",39);case 37:return n=["careItemId","itemId"],e.abrupt("break",39);case 39:if(!n){e.next=45;break}return a={obj:t,keyField:n,val:r},e.next=43,h()({method:"POST",url:this._domain+"/stenobj",data:a,header:{"Content-Type":"application/json"}});case 43:return i=e.sent,e.abrupt("return",i.data);case 45:case"end":return e.stop()}},e,this)}));return function(t,r){return e.apply(this,arguments)}}()}]),e}(),P={name:"HelloWorld",data:function(){return{sh:void 0,sten:void 0,k3:void 0,logs:[]}},mounted:function(){this.init(),this.sh=setInterval(this.syncWork,6e4)},destroyed:function(){clearInterval(this.sh)},methods:{init:function(){var e=this;return o()(s.a.mark(function t(){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.sten=new g,e.k3=new I,t.next=4,e.sten.init();case 4:case"end":return t.stop()}},t,e)}))()},syncWork:function(){var e=this;return o()(s.a.mark(function t(){var r,n,a;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=new Date,n=S()(r),a=S()(r),parseInt(r.getMinutes()/30)!==r.getMinutes()/30){t.next=7;break}return console.log(a.format("YYYY-MM-DD HH:mm:ss"),r.getMinutes(),r.getMinutes()/30),t.next=7,e.syncAllData(n.format("YYYY-MM-DD"),a.format("YYYY-MM-DD"));case 7:if(n=n.subtract(7,"days"),parseInt(r.getHours()/2)!==r.getHours()/2||20!==r.getMinutes()){t.next=12;break}return console.log(a.format("YYYY-MM-DD HH:mm:ss"),r.getHours(),r.getHours()/2),t.next=12,e.syncAllData(n.format("YYYY-MM-DD"),a.format("YYYY-MM-DD"));case 12:if(n=n.subtract(1,"months"),1!==r.getHours()||20!==r.getMinutes()){t.next=17;break}return console.log(a.format("YYYY-MM-DD HH:mm:ss")),t.next=17,e.syncAllData(n.format("YYYY-MM-DD"),a.format("YYYY-MM-DD"));case 17:case"end":return t.stop()}},t,e)}))()},syncAllData:function(e,t){var r=this;return o()(s.a.mark(function n(){return s.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.syncData("Work",e,t);case 2:return n.next=4,r.syncData("SalePost",e,t);case 4:return n.next=6,r.syncData("SaleIssue",e,t);case 6:return n.next=8,r.syncData("SaleIssueEntry",e,t);case 8:return n.next=10,r.syncData("FeeInvoice",e,t);case 10:return n.next=12,r.syncData("PurIn",e,t);case 12:return n.next=14,r.syncData("PurInEntry",e,t);case 14:return n.next=16,r.syncData("PurReturn",e,t);case 16:return n.next=18,r.syncData("PurReturnEntry",e,t);case 18:return n.next=20,r.syncData("StockTaking",e,t);case 20:return n.next=22,r.syncData("StockTakingEntry",e,t);case 22:return n.next=24,r.syncData("OtherIn",e,t);case 24:return n.next=26,r.syncData("OtherInEntry",e,t);case 26:return n.next=28,r.syncData("OtherIssue",e,t);case 28:return n.next=30,r.syncData("OtherIssueEntry",e,t);case 30:return n.next=32,r.syncData("MaterialReturn",e,t);case 32:return n.next=34,r.syncData("MaterialReturnEntry",e,t);case 34:return n.next=36,r.syncData("Achievement",e,t);case 36:r.logs.length>9999&&(r.logs=r.logs.splice(0,r.logs.length-999));case 37:case"end":return n.stop()}},n,r)}))()},syncData:function(e,t,r){var n=this;return o()(s.a.mark(function a(){var i,o,c,u,l,p;return s.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:i=20,o=20,c=1,u=[];case 4:if(o!==i){a.next=17;break}return a.next=7,n.sten[e]({begDate:t,endDate:r,pageSize:i,page:c});case 7:return l=a.sent,a.next=10,n.k3.StenObj(e,l);case 10:(p=a.sent)&&n.logs.push(e+":"+p.info),u.push.apply(u,_()(l)),c++,o=l.length,a.next=4;break;case 17:return console.log(e,u),a.abrupt("return",u);case 19:case"end":return a.stop()}},a,n)}))()},work:function(){var e=this;return o()(s.a.mark(function t(){var r;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.sten.Work();case 2:r=t.sent,console.log("work",r);case 4:case"end":return t.stop()}},t,e)}))()},salePost:function(){var e=this;return o()(s.a.mark(function t(){var r;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.sten.SalePost();case 2:r=t.sent,console.log("salepost",r);case 4:case"end":return t.stop()}},t,e)}))()},saleIssue:function(){var e=this;return o()(s.a.mark(function t(){var r;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.sten.SaleIssue();case 2:r=t.sent,console.log("saleissue",r);case 4:case"end":return t.stop()}},t,e)}))()},saleIssueEntry:function(){var e=this;return o()(s.a.mark(function t(){var r;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.sten.SaleIssueEntry();case 2:r=t.sent,console.log("saleissueentry",r);case 4:case"end":return t.stop()}},t,e)}))()},feeInvoice:function(){var e=this;return o()(s.a.mark(function t(){var r;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.sten.FeeInvoice();case 2:r=t.sent,console.log("feeinvoice",r);case 4:case"end":return t.stop()}},t,e)}))()},purIn:function(){var e=this;return o()(s.a.mark(function t(){var r;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.sten.PurIn();case 2:r=t.sent,console.log("purin",r);case 4:case"end":return t.stop()}},t,e)}))()},purInEntry:function(){var e=this;return o()(s.a.mark(function t(){var r;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.sten.PurInEntry();case 2:r=t.sent,console.log("purinentry",r);case 4:case"end":return t.stop()}},t,e)}))()},purReturn:function(){var e=this;return o()(s.a.mark(function t(){var r;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.sten.PurReturn();case 2:r=t.sent,console.log("PurReturn",r);case 4:case"end":return t.stop()}},t,e)}))()},purReturnEntry:function(){var e=this;return o()(s.a.mark(function t(){var r;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.sten.PurReturnEntry();case 2:r=t.sent,console.log("PurReturnEntry",r);case 4:case"end":return t.stop()}},t,e)}))()},stockTaking:function(){var e=this;return o()(s.a.mark(function t(){var r;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.sten.StockTaking();case 2:r=t.sent,console.log("StockTaking",r);case 4:case"end":return t.stop()}},t,e)}))()},stockTakingEntry:function(){var e=this;return o()(s.a.mark(function t(){var r;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.sten.StockTakingEntry();case 2:r=t.sent,console.log("StockTakingEntry",r);case 4:case"end":return t.stop()}},t,e)}))()},otherIn:function(){var e=this;return o()(s.a.mark(function t(){var r;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.sten.OtherIn();case 2:r=t.sent,console.log("OtherIn",r);case 4:case"end":return t.stop()}},t,e)}))()},otherInEntry:function(){var e=this;return o()(s.a.mark(function t(){var r;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.sten.OtherInEntry();case 2:r=t.sent,console.log("OtherInEntry",r);case 4:case"end":return t.stop()}},t,e)}))()},otherIssue:function(){var e=this;return o()(s.a.mark(function t(){var r;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.sten.OtherIssue();case 2:r=t.sent,console.log("OtherIn",r);case 4:case"end":return t.stop()}},t,e)}))()},otherIssueEntry:function(){var e=this;return o()(s.a.mark(function t(){var r;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.sten.OtherInEntry();case 2:r=t.sent,console.log("OtherInEntry",r);case 4:case"end":return t.stop()}},t,e)}))()},materialReturn:function(){var e=this;return o()(s.a.mark(function t(){var r;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.sten.MaterialReturn();case 2:r=t.sent,console.log("MaterialReturn",r);case 4:case"end":return t.stop()}},t,e)}))()},materialReturnEntry:function(){var e=this;return o()(s.a.mark(function t(){var r;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.sten.MaterialReturnEntry();case 2:r=t.sent,console.log("MaterialReturnEntry",r);case 4:case"end":return t.stop()}},t,e)}))()},achievement:function(){var e=this;return o()(s.a.mark(function t(){var r;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.sten.Achievement();case 2:r=t.sent,console.log("Achievement",r);case 4:case"end":return t.stop()}},t,e)}))()}}},j={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"hello"},[r("el-divider",[e._v("定时同步")]),e._v(" "),r("h3",[e._v("每30分钟下载一次当天数据；每2小时下载一次最近一周数据；每天下载当月数据")]),e._v(" "),r("div",[r("button",{on:{click:e.work}},[e._v("工单")]),e._v(" "),r("button",{on:{click:e.salePost}},[e._v("发料")]),e._v(" "),r("button",{on:{click:e.saleIssue}},[e._v("销售出库")]),e._v(" "),r("button",{on:{click:e.saleIssueEntry}},[e._v("销售出库明细")]),e._v(" "),r("button",{on:{click:e.feeInvoice}},[e._v("费用记录")]),e._v(" "),r("button",{on:{click:e.purIn}},[e._v("采购入库")]),e._v(" "),r("button",{on:{click:e.purInEntry}},[e._v("采购入库明细")]),e._v(" "),r("button",{on:{click:e.purReturn}},[e._v("采购退货")]),e._v(" "),r("button",{on:{click:e.purReturnEntry}},[e._v("采购退货明细")]),e._v(" "),r("button",{on:{click:e.stockTaking}},[e._v("盘点")]),e._v(" "),r("button",{on:{click:e.stockTakingEntry}},[e._v("盘点明细")]),e._v(" "),r("button",{on:{click:e.otherIn}},[e._v("其他入库")]),e._v(" "),r("button",{on:{click:e.otherInEntry}},[e._v("其他入库明细")]),e._v(" "),r("button",{on:{click:e.otherIssue}},[e._v("其他出库")]),e._v(" "),r("button",{on:{click:e.otherIssueEntry}},[e._v("其他出库明细")]),e._v(" "),r("button",{on:{click:e.materialReturn}},[e._v("退料")]),e._v(" "),r("button",{on:{click:e.materialReturnEntry}},[e._v("退料明细")]),e._v(" "),r("button",{on:{click:e.achievement}},[e._v("施工业绩")])]),e._v(" "),e._l(e.logs,function(t){return r("div",{key:t},[e._v(e._s(t))])})],2)},staticRenderFns:[]};var T=r("VU/8")(P,j,!1,function(e){r("GAGD")},"data-v-00eaf4ae",null).exports,O={name:"StenWork",data:function(){return{filter:{date:"",store:"",cust:"",synced:!1,storeList:[]},loading:{fee:!1,work:!1,post:!1,issue:!1,issueEntry:!1,querying:!1,sync:!1,syncPercent:0},work:[],multipleSelection:[],activeName:"fee",sten:void 0,k3:void 0}},mounted:function(){this.init()},methods:{init:function(){var e=this;return o()(s.a.mark(function t(){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.sten=new g,e.k3=new I,t.next=4,e.sten.init();case 4:return t.next=6,e.sten.deptList();case 6:e.filter.storeList=t.sent;case 7:case"end":return t.stop()}},t,e)}))()},query:function(){var e=this;return o()(s.a.mark(function t(){var r,n,a,i,o,c,u,l,p,d;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.filter.date&&(r=e.filter.date[0].toLocaleDateString(),n=e.filter.date[1].toLocaleDateString()),e.loading.work=!0,e.loading.fee=!0,e.loading.post=!0,e.loading.issue=!0,e.loading.issueEntry=!0,t.prev=6,t.next=9,e.sten.WorkQuery(r,n,e.filter.store,e.filter.cust);case 9:a=t.sent,e.$message("工单数据加载完毕"),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(6),e.$message.error(t.t0.message);case 16:for(o in i=[],a)a[o].tab="fee",i.push(a[o].careNo+"-"+a[o].plateNo),a[o].feeAmt=0;return e.k3.SyncStatus(i).then(function(t){for(var r in a)a[r].careNo+"-"+a[r].plateNo in t&&(a[r].syncStatus=t[a[r].careNo+"-"+a[r].plateNo].syncStatus,a[r].syncTime=t[a[r].careNo+"-"+a[r].plateNo].syncTime,a[r].syncInfo=t[a[r].careNo+"-"+a[r].plateNo].syncInfo);e.work=a,e.loading.work=!1,e.$message("工单同步状态加载完毕")}),e.sten.FeeInvoiceQuery(r,n,e.filter.store,e.filter.cust).then(function(t){var r={};for(var n in t){var a=t[n];r[a.careNo]||(r[a.careNo]=[]),r[a.careNo].push(a)}for(n in e.work){for(d in e.work[n].fee=r[e.work[n].careNo],e.work[n].fee)e.work[n].feeAmt+=e.work[n].fee[d].discountPrice;e.work[n].feeAmt=Math.round(100*e.work[n].feeAmt)/100}e.loading.fee=!1,e.$message("项目数据加载完毕")}).catch(function(t){e.$message.error(t.message)}),e.sten.SalePosteQuery(r,n,e.filter.store,e.filter.cust).then(function(t){var r={};for(var n in t){var a=t[n];r[a.careNo]||(r[a.careNo]=[]),r[a.careNo].push(a)}for(n in e.work)e.work[n].post=r[e.work[n].careNo];e.loading.post=!1,e.$message("材料数据加载完毕")}).catch(function(t){e.$message.error(t.message)}),t.prev=21,t.next=24,e.sten.SaleIssueQuery(r,"2100-01-01",e.filter.store,e.filter.cust);case 24:for(o in a=t.sent,c={},a)u=a[o],l=u.relatedNo+"|"+u.plateNo,c[l]||(c[l]=[]),c[l].push(u);for(o in e.work)e.work[o].issue=c[e.work[o].careNo+"|"+e.work[o].plateNo];e.loading.issue=!1,e.$message("出库数据加载完毕"),t.next=35;break;case 32:t.prev=32,t.t1=t.catch(21),e.$message.error(t.t1.message);case 35:return t.prev=35,t.next=38,e.sten.SaleIssueEntryQuery(r,"2100-01-01",e.filter.store,e.filter.cust);case 38:for(o in a=t.sent,c={},a)u=a[o],c[u.relatedNo]||(c[u.relatedNo]={}),(p=c[u.relatedNo])[u.outputNo]||(p[u.outputNo]=[]),c[u.relatedNo][u.outputNo].push(u);for(o in e.work)if(e.work[o].issue)for(d in p=c[e.work[o].careNo],e.work[o].issue)e.work[o].issue[d].entry=p[e.work[o].issue[d].outputNo];e.loading.issueEntry=!1,e.$message("出库明细加载完毕"),t.next=49;break;case 46:t.prev=46,t.t2=t.catch(35),e.$message.error(t.t2.message);case 49:case"end":return t.stop()}},t,e,[[6,13],[21,32],[35,46]])}))()},sync:function(){var e=this;return o()(s.a.mark(function t(){var r,n,a,i;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.loading.syncPercent=0,e.loading.sync=!0,r=e.multipleSelection,t.t0=s.a.keys(r);case 4:if((t.t1=t.t0()).done){t.next=15;break}return n=t.t1.value,a=r[n],t.next=9,e.k3.Sync(a);case 9:(i=t.sent).success||e.$message.error(i.info),console.log(n,e.multipleSelection.length),e.loading.syncPercent=parseInt(100*(n+1)/r.length),t.next=4;break;case 15:e.loading.sync=!1,e.query();case 17:case"end":return t.stop()}},t,e)}))()},handleSelectionChange:function(e){this.multipleSelection=e}}},E={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-divider",[e._v("接车工单")]),e._v(" "),r("el-form",{attrs:{inline:!0}},[r("el-form-item",[r("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.filter.date,callback:function(t){e.$set(e.filter,"date",t)},expression:"filter.date"}})],1),e._v(" "),r("el-form-item",[r("el-select",{attrs:{placeholder:"请选择"},model:{value:e.filter.store,callback:function(t){e.$set(e.filter,"store",t)},expression:"filter.store"}},e._l(e.filter.storeList,function(e){return r("el-option",{key:e.deptId,attrs:{label:e.deptName,value:e.deptId}})}),1)],1),e._v(" "),r("el-form-item",[r("el-button-group",[r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.query()}}},[e._v("查询")]),e._v(" "),r("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.loading.sync,expression:"loading.sync"}],attrs:{type:"primary",disabled:e.loading.work||e.loading.fee||e.loading.post||e.loading.issue||e.loading.issueEntry},on:{click:function(t){return e.sync()}}},[e._v("同步选中记录")])],1)],1),e._v(" "),e.loading.sync?r("el-progress",{attrs:{"text-inside":!0,"stroke-width":26,percentage:e.loading.syncPercent}},[e._v("test")]):e._e(),e._v(" "),r("el-row",[r("el-col",{attrs:{span:24}},[r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading.work,expression:"loading.work"}],ref:"multipleTable",attrs:{data:e.work.filter(function(t){return(t.syncStatus||!1)===e.filter.synced&&t.shortName&&t.shortName.toLowerCase().includes(e.filter.cust.toLowerCase())})},on:{"selection-change":e.handleSelectionChange}},[r("el-table-column",{attrs:{prop:"seled",type:"selection",width:"55"}}),e._v(" "),r("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-tabs",{model:{value:t.row.tab,callback:function(r){e.$set(t.row,"tab",r)},expression:"props.row.tab"}},[r("el-tab-pane",{attrs:{label:"接车项目",name:"fee"}},[r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading.fee,expression:"loading.fee"}],attrs:{data:t.row.fee}},[r("el-table-column",{attrs:{prop:"itemName",label:"维修项目"}}),e._v(" "),r("el-table-column",{attrs:{prop:"quantity",label:"项目数量"}}),e._v(" "),r("el-table-column",{attrs:{prop:"discountPrice",label:"折后总价"}})],1)],1),e._v(" "),r("el-tab-pane",{directives:[{name:"loading",rawName:"v-loading",value:e.loading.post,expression:"loading.post"}],attrs:{label:"接车材料",name:"post"}},[r("el-table",{attrs:{data:t.row.post}},[r("el-table-column",{attrs:{prop:"partName",label:"材料名称"}}),e._v(" "),r("el-table-column",{attrs:{prop:"spec",label:"规格"}}),e._v(" "),r("el-table-column",{attrs:{prop:"codeName",label:"类别"}}),e._v(" "),r("el-table-column",{attrs:{prop:"unit",label:"单位"}}),e._v(" "),r("el-table-column",{attrs:{prop:"quantity",label:"数量"}}),e._v(" "),r("el-table-column",{attrs:{prop:"discountPrice",label:"折后价"}})],1)],1),e._v(" "),r("el-tab-pane",{directives:[{name:"loading",rawName:"v-loading",value:e.loading.issue,expression:"loading.issue"}],attrs:{label:"材料出库",name:"issue"}},[r("el-table",{attrs:{data:t.row.issue}},[r("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-table",{attrs:{data:t.row.entry}},[r("el-table-column",{attrs:{prop:"storeName",label:"仓库"}}),e._v(" "),r("el-table-column",{attrs:{prop:"positionName",label:"仓位"}}),e._v(" "),r("el-table-column",{attrs:{prop:"partName",label:"材料名称"}}),e._v(" "),r("el-table-column",{attrs:{prop:"spec",label:"规格"}}),e._v(" "),r("el-table-column",{attrs:{prop:"inputTime",label:"批次"}}),e._v(" "),r("el-table-column",{attrs:{prop:"unit",label:"单位"}}),e._v(" "),r("el-table-column",{attrs:{prop:"quantity",label:"数量"}}),e._v(" "),r("el-table-column",{attrs:{prop:"salePrice",label:"出库价"}}),e._v(" "),r("el-table-column",{attrs:{prop:"sellingPrice",label:"销售单价"}}),e._v(" "),r("el-table-column",{attrs:{prop:"salePriceTotal",label:"出库总价"}}),e._v(" "),r("el-table-column",{attrs:{prop:"sellingPriceTotal",label:"销售总价"}})],1)]}}],null,!0)}),e._v(" "),r("el-table-column",{attrs:{prop:"outputTime",label:"出库时间"}}),e._v(" "),r("el-table-column",{attrs:{prop:"outputNo",label:"出库单号"}}),e._v(" "),r("el-table-column",{attrs:{prop:"plateNo",label:"车牌号"}})],1)],1)],1)]}}])}),e._v(" "),r("el-table-column",{attrs:{prop:"firstBalanceTime",label:"日期",width:"180"}}),e._v(" "),r("el-table-column",{attrs:{prop:"careNo",label:"工单号",width:"150"}}),e._v(" "),r("el-table-column",{attrs:{prop:"shortName",label:"客户",width:"350"}},[r("template",{slot:"header"},[r("el-input",{attrs:{size:"mini",placeholder:"客户"},model:{value:e.filter.cust,callback:function(t){e.$set(e.filter,"cust",t)},expression:"filter.cust"}})],1)],2),e._v(" "),r("el-table-column",{attrs:{prop:"plateNo",label:"车牌号",width:"150"}}),e._v(" "),r("el-table-column",{attrs:{prop:"feeAmt",label:"接车金额",width:"150"}}),e._v(" "),r("el-table-column",{attrs:{prop:"sheetSource",label:"推荐人",width:"120"}}),e._v(" "),r("el-table-column",{attrs:{prop:"syncStatus",label:"同步状态",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-checkbox",{attrs:{disabled:""},model:{value:t.row.syncStatus,callback:function(r){e.$set(t.row,"syncStatus",r)},expression:"scope.row.syncStatus"}})]}}])},[r("template",{slot:"header"},[r("el-checkbox",{attrs:{size:"mini"},model:{value:e.filter.synced,callback:function(t){e.$set(e.filter,"synced",t)},expression:"filter.synced"}},[e._v("同步状态")])],1)],2),e._v(" "),r("el-table-column",{attrs:{prop:"syncTime",label:"同步时间",width:"220"}}),e._v(" "),r("el-table-column",{attrs:{prop:"syncInfo",label:"同步信息",width:"280"}})],1)],1)],1)],1)],1)},staticRenderFns:[]},M=r("VU/8")(O,E,!1,null,null,null).exports,z={name:"PurIn",data:function(){return{filter:{date:"",store:"",cust:"",synced:!1,storeList:[]},loading:{fee:!1,work:!1,post:!1,issue:!1,issueEntry:!1,querying:!1,sync:!1,syncPercent:0},fieldDic:{inputNo:"入库单号",inputTime:"入库日期",relateNo:"采购单号",careNo:"业务单号",category:"入库类别",totalPrice:"入库金额",taxPrice:"入库含税金额",inputCount:"入库数量",buyerName:"采购人",purPrice:"采购金额",supplierName:"供应商",plateNo:"车牌",modelName:"车型",vinNo:"vin码",deptName:"所属门店"},entryFieldDic:{purchaseNo:"采购单号",buyTime:"采购日期",inputNo:"入库单号",inputTime1:"入库日期",relateNo:"业务单号",plateNo:"车牌",modelName:"车型",name:"客户",contact:"联系人",tel1:"电话",groupName:"材料目录名称",partName:"材料名称",brandName:"品牌",firmNo:"OEM",partType:"材料类别",partNo:"材料号",spec:"规格",barCode:"条码",selfNo:"自编码",inputTime:"批次",storeName:"仓库",positionName:"仓位",supplierName:"供应商",rawUnit:"单位",rawQuantity:"入库数量",rawBuyingPrice:"进价",buyingTotal:"进价总额",rawTaxPrice:"含税价",taxTotal:"含税价总额",salePrice:"出库价",receiverName:"服务顾问",purchaseStatus:"采购状态",applicant:"申请人",buyer:"采购人",handler:"入库人",creator:"入库操作人",deptName:"所属部门"},data:[],work:[],multipleSelection:[],activeName:"fee",sten:void 0,k3:void 0}},mounted:function(){this.init()},methods:{init:function(){var e=this;return o()(s.a.mark(function t(){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.sten=new g,e.k3=new I,t.next=4,e.sten.init();case 4:return t.next=6,e.sten.deptList();case 6:e.filter.storeList=t.sent;case 7:case"end":return t.stop()}},t,e)}))()},query:function(){var e=this;return o()(s.a.mark(function t(){var r,n,a,i,o,c,u;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.filter.date&&(r=e.filter.date[0].toLocaleDateString(),n=e.filter.date[1].toLocaleDateString()),e.loading.head=!0,e.loading.entry=!0,t.prev=3,t.next=6,e.sten.PurIn(r,n,e.filter.store,e.filter.cust);case 6:a=t.sent,e.data=a,e.$message("单头数据加载完毕"),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(3),e.$message.error(t.t0.message);case 14:return t.prev=14,t.next=17,e.sten.PurInEntry();case 17:for(o in i=t.sent)for(u in c=i[o],e.data)e.data[u].inputNo===c.inputNo&&(e.data[u].entry||(e.data[u].entry=[]),e.data[u].entry.push(c));e.$message("明细数据加载完毕"),t.next=25;break;case 22:t.prev=22,t.t1=t.catch(14),e.$message.error(t.t1.message);case 25:e.loading.entry=!1;case 26:case"end":return t.stop()}},t,e,[[3,11],[14,22]])}))()},sync:function(){var e=this;return o()(s.a.mark(function t(){var r,n,a,i;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.loading.syncPercent=0,e.loading.sync=!0,r=e.multipleSelection,t.t0=s.a.keys(r);case 4:if((t.t1=t.t0()).done){t.next=15;break}return n=t.t1.value,a=r[n],t.next=9,e.k3.Sync(a);case 9:(i=t.sent).success||e.$message.error(i.info),console.log(n,e.multipleSelection.length),e.loading.syncPercent=parseInt(100*(n+1)/r.length),t.next=4;break;case 15:e.loading.sync=!1,e.query();case 17:case"end":return t.stop()}},t,e)}))()},handleSelectionChange:function(e){this.multipleSelection=e}}},q={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-divider",[e._v("采购入库")]),e._v(" "),r("el-form",{attrs:{inline:!0}},[r("el-form-item",[r("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.filter.date,callback:function(t){e.$set(e.filter,"date",t)},expression:"filter.date"}})],1),e._v(" "),r("el-form-item",[r("el-select",{attrs:{placeholder:"请选择"},model:{value:e.filter.store,callback:function(t){e.$set(e.filter,"store",t)},expression:"filter.store"}},e._l(e.filter.storeList,function(e){return r("el-option",{key:e.deptId,attrs:{label:e.deptName,value:e.deptId}})}),1)],1),e._v(" "),r("el-form-item",[r("el-button-group",[r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.query()}}},[e._v("查询")]),e._v(" "),r("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.loading.sync,expression:"loading.sync"}],attrs:{type:"primary",disabled:e.loading.work||e.loading.fee||e.loading.post||e.loading.issue||e.loading.issueEntry},on:{click:function(t){return e.sync()}}},[e._v("同步选中记录")])],1)],1),e._v(" "),e.loading.sync?r("el-progress",{attrs:{"text-inside":!0,"stroke-width":26,percentage:e.loading.syncPercent}},[e._v("test")]):e._e(),e._v(" "),r("el-row",[r("el-col",{attrs:{span:24}},[r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading.work,expression:"loading.work"}],ref:"multipleTable",attrs:{data:e.data},on:{"selection-change":e.handleSelectionChange}},[r("el-table-column",{attrs:{prop:"seled",type:"selection",width:"55"}}),e._v(" "),r("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-table",{attrs:{data:t.row.entry}},e._l(e.entryFieldDic,function(e,t){return r("el-table-column",{key:t,attrs:{prop:t,label:e,width:"120"}})}),1)]}}])}),e._v(" "),e._l(e.fieldDic,function(e,t){return r("el-table-column",{key:t,attrs:{prop:t,label:e,width:"120"}})})],2)],1)],1)],1)],1)},staticRenderFns:[]},R=r("VU/8")(z,q,!1,null,null,null).exports,L={name:"PurReturn",data:function(){return{filter:{date:"",store:"",cust:"",synced:!1,storeList:[]},loading:{fee:!1,work:!1,post:!1,issue:!1,issueEntry:!1,querying:!1,sync:!1,syncPercent:0},fieldDic:{outputNo:"退货单号",ouputTime1:"退货日期",relateNo:"相关单号",categoryName:"出库类别",quantityTotal:"退货数量",priceTotal:"退货金额",taxPrice:"退货含税金额",supplierName:"供应商",remark:"备注"},entryFieldDic:{partName:"材料名称",groupName:"材料目录名称",outputTime:"退货时间",categoryName:"出库类别",outputStatus:"退货状态",outputNo:"退货单号",quantity:"数量",unit:"单位",buyingPrice:"进价",salePrice:"出库价",taxPrice:"出库含税价",cnName:"品牌",firmNo:"OEM",partNo:"材料号",spec:"规格",inputTime:"批次",storeName:"仓库",positionName:"仓位",inSupplierName:"入库供应商",outSupplierName:"退货供应商",barCode:"条码",selfNo:"自编码",creator:"操作人",handler:"经手人",partType:"材料类别",relatedNo:"相关单号"},data:[],work:[],multipleSelection:[],activeName:"fee",sten:void 0,k3:void 0}},mounted:function(){this.init()},methods:{init:function(){var e=this;return o()(s.a.mark(function t(){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.sten=new g,e.k3=new I,t.next=4,e.sten.init();case 4:return t.next=6,e.sten.deptList();case 6:e.filter.storeList=t.sent;case 7:case"end":return t.stop()}},t,e)}))()},query:function(){var e=this;return o()(s.a.mark(function t(){var r,n,a,i,o,c,u;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.filter.date&&(r=e.filter.date[0].toLocaleDateString(),n=e.filter.date[1].toLocaleDateString()),e.loading.head=!0,e.loading.entry=!0,t.prev=3,t.next=6,e.sten.PurReturn(r,n,e.filter.store,e.filter.cust);case 6:a=t.sent,e.data=a,e.$message("单头数据加载完毕"),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(3),e.$message.error(t.t0.message);case 14:return t.prev=14,t.next=17,e.sten.PurReturnEntry();case 17:for(o in i=t.sent)for(u in c=i[o],e.data)e.data[u].inputNo===c.inputNo&&(e.data[u].entry||(e.data[u].entry=[]),e.data[u].entry.push(c));e.$message("明细数据加载完毕"),t.next=25;break;case 22:t.prev=22,t.t1=t.catch(14),e.$message.error(t.t1.message);case 25:e.loading.entry=!1;case 26:case"end":return t.stop()}},t,e,[[3,11],[14,22]])}))()},sync:function(){var e=this;return o()(s.a.mark(function t(){var r,n,a,i;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.loading.syncPercent=0,e.loading.sync=!0,r=e.multipleSelection,t.t0=s.a.keys(r);case 4:if((t.t1=t.t0()).done){t.next=15;break}return n=t.t1.value,a=r[n],t.next=9,e.k3.Sync(a);case 9:(i=t.sent).success||e.$message.error(i.info),console.log(n,e.multipleSelection.length),e.loading.syncPercent=parseInt(100*(n+1)/r.length),t.next=4;break;case 15:e.loading.sync=!1,e.query();case 17:case"end":return t.stop()}},t,e)}))()},handleSelectionChange:function(e){this.multipleSelection=e}}},$={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-divider",[e._v("采购退货")]),e._v(" "),r("el-form",{attrs:{inline:!0}},[r("el-form-item",[r("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.filter.date,callback:function(t){e.$set(e.filter,"date",t)},expression:"filter.date"}})],1),e._v(" "),r("el-form-item",[r("el-select",{attrs:{placeholder:"请选择"},model:{value:e.filter.store,callback:function(t){e.$set(e.filter,"store",t)},expression:"filter.store"}},e._l(e.filter.storeList,function(e){return r("el-option",{key:e.deptId,attrs:{label:e.deptName,value:e.deptId}})}),1)],1),e._v(" "),r("el-form-item",[r("el-button-group",[r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.query()}}},[e._v("查询")]),e._v(" "),r("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.loading.sync,expression:"loading.sync"}],attrs:{type:"primary",disabled:e.loading.work||e.loading.fee||e.loading.post||e.loading.issue||e.loading.issueEntry},on:{click:function(t){return e.sync()}}},[e._v("同步选中记录")])],1)],1),e._v(" "),e.loading.sync?r("el-progress",{attrs:{"text-inside":!0,"stroke-width":26,percentage:e.loading.syncPercent}},[e._v("test")]):e._e(),e._v(" "),r("el-row",[r("el-col",{attrs:{span:24}},[r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading.work,expression:"loading.work"}],ref:"multipleTable",attrs:{data:e.data},on:{"selection-change":e.handleSelectionChange}},[r("el-table-column",{attrs:{prop:"seled",type:"selection",width:"55"}}),e._v(" "),r("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-table",{attrs:{data:t.row.entry}},e._l(e.entryFieldDic,function(e,t){return r("el-table-column",{key:t,attrs:{prop:t,label:e,width:"120"}})}),1)]}}])}),e._v(" "),e._l(e.fieldDic,function(e,t){return r("el-table-column",{key:t,attrs:{prop:t,label:e,width:"120"}})})],2)],1)],1)],1)],1)},staticRenderFns:[]},C=r("VU/8")(L,$,!1,null,null,null).exports,F={name:"StockTaking",data:function(){return{filter:{date:"",store:"",cust:"",synced:!1,storeList:[]},loading:{fee:!1,work:!1,post:!1,issue:!1,issueEntry:!1,querying:!1,sync:!1,syncPercent:0},fieldDic:{inventoryId:"inventoryId",auditGroup:"auditGroup",inventoryNo:"盘点单号",inventoryTime:"盘点时间",createTime:"创建时间",nooverageCount:"盘亏种类",nooverageMoney:"盘亏金额",overageCount:"盘盈种类",overageMoney:"盘盈金额",handler:"盘点参与人",scope:"盘点范围",auditStatus:"审批状态",inventoryStatus:"盘点状态"},entryFieldDic:{inventoryId:"inventoryId",inventoryNo:"盘点单号",createTime:"创建时间",inventoryTime:"盘点时间",putNo:"出入库单号",putime:"出入库时间",groupName:"材料目录名称",partName:"材料名称",cnName:"品牌",firmNo:"OEM",partNo:"材料号",spec:"规格",barCode:"条码",selfNo:"自编码",inputTime:"批次",storeName:"仓库",positionName:"仓位",supplierName:"供应商",unit:"单位",sysStock:"账面数量",sysprice:"账面金额",actualStock:"实际数量",actualprice:"实际金额",num:"盈亏数量",unitPrice:"盈亏单价",overagePrice:"盈亏金额",cname:"参与人",operator:"操作人",categoryName:"盘点类别"},data:[],work:[],multipleSelection:[],activeName:"fee",sten:void 0,k3:void 0}},mounted:function(){this.init()},methods:{init:function(){var e=this;return o()(s.a.mark(function t(){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.sten=new g,e.k3=new I,t.next=4,e.sten.init();case 4:return t.next=6,e.sten.deptList();case 6:e.filter.storeList=t.sent;case 7:case"end":return t.stop()}},t,e)}))()},query:function(){var e=this;return o()(s.a.mark(function t(){var r,n,a,i,o,c,u;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.filter.date&&(r=e.filter.date[0].toLocaleDateString(),n=e.filter.date[1].toLocaleDateString()),e.loading.head=!0,e.loading.entry=!0,t.prev=3,t.next=6,e.sten.StockTaking(r,n,e.filter.store,e.filter.cust);case 6:a=t.sent,e.data=a,e.$message("单头数据加载完毕"),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(3),e.$message.error(t.t0.message);case 14:return t.prev=14,t.next=17,e.sten.StockTakingEntry();case 17:for(o in i=t.sent)for(u in c=i[o],e.data)e.data[u].inputNo===c.inputNo&&(e.data[u].entry||(e.data[u].entry=[]),e.data[u].entry.push(c));e.$message("明细数据加载完毕"),t.next=25;break;case 22:t.prev=22,t.t1=t.catch(14),e.$message.error(t.t1.message);case 25:e.loading.entry=!1;case 26:case"end":return t.stop()}},t,e,[[3,11],[14,22]])}))()},sync:function(){var e=this;return o()(s.a.mark(function t(){var r,n,a,i;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.loading.syncPercent=0,e.loading.sync=!0,r=e.multipleSelection,t.t0=s.a.keys(r);case 4:if((t.t1=t.t0()).done){t.next=15;break}return n=t.t1.value,a=r[n],t.next=9,e.k3.Sync(a);case 9:(i=t.sent).success||e.$message.error(i.info),console.log(n,e.multipleSelection.length),e.loading.syncPercent=parseInt(100*(n+1)/r.length),t.next=4;break;case 15:e.loading.sync=!1,e.query();case 17:case"end":return t.stop()}},t,e)}))()},handleSelectionChange:function(e){this.multipleSelection=e}}},Y={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-divider",[e._v("盘点")]),e._v(" "),r("el-form",{attrs:{inline:!0}},[r("el-form-item",[r("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.filter.date,callback:function(t){e.$set(e.filter,"date",t)},expression:"filter.date"}})],1),e._v(" "),r("el-form-item",[r("el-select",{attrs:{placeholder:"请选择"},model:{value:e.filter.store,callback:function(t){e.$set(e.filter,"store",t)},expression:"filter.store"}},e._l(e.filter.storeList,function(e){return r("el-option",{key:e.deptId,attrs:{label:e.deptName,value:e.deptId}})}),1)],1),e._v(" "),r("el-form-item",[r("el-button-group",[r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.query()}}},[e._v("查询")]),e._v(" "),r("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.loading.sync,expression:"loading.sync"}],attrs:{type:"primary",disabled:e.loading.work||e.loading.fee||e.loading.post||e.loading.issue||e.loading.issueEntry},on:{click:function(t){return e.sync()}}},[e._v("同步选中记录")])],1)],1),e._v(" "),e.loading.sync?r("el-progress",{attrs:{"text-inside":!0,"stroke-width":26,percentage:e.loading.syncPercent}},[e._v("test")]):e._e(),e._v(" "),r("el-row",[r("el-col",{attrs:{span:24}},[r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading.work,expression:"loading.work"}],ref:"multipleTable",attrs:{data:e.data},on:{"selection-change":e.handleSelectionChange}},[r("el-table-column",{attrs:{prop:"seled",type:"selection",width:"55"}}),e._v(" "),r("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-table",{attrs:{data:t.row.entry}},e._l(e.entryFieldDic,function(e,t){return r("el-table-column",{key:t,attrs:{prop:t,label:e,width:"120"}})}),1)]}}])}),e._v(" "),e._l(e.fieldDic,function(e,t){return r("el-table-column",{key:t,attrs:{prop:t,label:e,width:"120"}})})],2)],1)],1)],1)],1)},staticRenderFns:[]},A=r("VU/8")(F,Y,!1,null,null,null).exports,H={name:"OtherIn",data:function(){return{filter:{date:"",store:"",cust:"",synced:!1,storeList:[]},loading:{fee:!1,work:!1,post:!1,issue:!1,issueEntry:!1,querying:!1,sync:!1,syncPercent:0},fieldDic:{inputId:"inputId",quantity:"quantity",outquantity:"outquantity",inputNo:"入库单号",inputTime1:"入库日期",relatedNo:"相关单号",categoryName:"入库类别",handlerName:"经手人",quantity1:"入库总数量",buyingPrice:"入库总进价",salePrice:"入库总出库价",freight:"运费",remark:"备注",inputStatus:"状态"},entryFieldDic:{partName:"材料名称",groupName:"材料目录名称",inputTime:"入库日期",categoryName:"入库类别",inputNo:"入库单号",rawQuantity:"数量",rawUnit:"单位",rawBuyingPrice:"进价",rawSalePrice:"出库价",cnName:"品牌",firmNo:"OEM",partNo:"材料号",spec:"规格",inputTime1:"批次",storeName:"仓库",positionName:"仓位",supplierName:"供应商",barCode:"条码",selfNo:"自编码",remark:"备注",handler:"经手人",operater:"操作人",partType:"材料类别",relateNo:"相关单号"},data:[],work:[],multipleSelection:[],activeName:"fee",sten:void 0,k3:void 0}},mounted:function(){this.init()},methods:{init:function(){var e=this;return o()(s.a.mark(function t(){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.sten=new g,e.k3=new I,t.next=4,e.sten.init();case 4:return t.next=6,e.sten.deptList();case 6:e.filter.storeList=t.sent;case 7:case"end":return t.stop()}},t,e)}))()},query:function(){var e=this;return o()(s.a.mark(function t(){var r,n,a,i,o,c,u;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.filter.date&&(r=e.filter.date[0].toLocaleDateString(),n=e.filter.date[1].toLocaleDateString()),e.loading.head=!0,e.loading.entry=!0,t.prev=3,t.next=6,e.sten.OtherIn(r,n,e.filter.store,e.filter.cust);case 6:a=t.sent,e.data=a,e.$message("单头数据加载完毕"),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(3),e.$message.error(t.t0.message);case 14:return t.prev=14,t.next=17,e.sten.OtherInEntry();case 17:for(o in i=t.sent)for(u in c=i[o],e.data)e.data[u].inputNo===c.inputNo&&(e.data[u].entry||(e.data[u].entry=[]),e.data[u].entry.push(c));e.$message("明细数据加载完毕"),t.next=25;break;case 22:t.prev=22,t.t1=t.catch(14),e.$message.error(t.t1.message);case 25:e.loading.entry=!1;case 26:case"end":return t.stop()}},t,e,[[3,11],[14,22]])}))()},sync:function(){var e=this;return o()(s.a.mark(function t(){var r,n,a,i;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.loading.syncPercent=0,e.loading.sync=!0,r=e.multipleSelection,t.t0=s.a.keys(r);case 4:if((t.t1=t.t0()).done){t.next=15;break}return n=t.t1.value,a=r[n],t.next=9,e.k3.Sync(a);case 9:(i=t.sent).success||e.$message.error(i.info),console.log(n,e.multipleSelection.length),e.loading.syncPercent=parseInt(100*(n+1)/r.length),t.next=4;break;case 15:e.loading.sync=!1,e.query();case 17:case"end":return t.stop()}},t,e)}))()},handleSelectionChange:function(e){this.multipleSelection=e}}},V={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-divider",[e._v("其他入库")]),e._v(" "),r("el-form",{attrs:{inline:!0}},[r("el-form-item",[r("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.filter.date,callback:function(t){e.$set(e.filter,"date",t)},expression:"filter.date"}})],1),e._v(" "),r("el-form-item",[r("el-select",{attrs:{placeholder:"请选择"},model:{value:e.filter.store,callback:function(t){e.$set(e.filter,"store",t)},expression:"filter.store"}},e._l(e.filter.storeList,function(e){return r("el-option",{key:e.deptId,attrs:{label:e.deptName,value:e.deptId}})}),1)],1),e._v(" "),r("el-form-item",[r("el-button-group",[r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.query()}}},[e._v("查询")]),e._v(" "),r("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.loading.sync,expression:"loading.sync"}],attrs:{type:"primary",disabled:e.loading.work||e.loading.fee||e.loading.post||e.loading.issue||e.loading.issueEntry},on:{click:function(t){return e.sync()}}},[e._v("同步选中记录")])],1)],1),e._v(" "),e.loading.sync?r("el-progress",{attrs:{"text-inside":!0,"stroke-width":26,percentage:e.loading.syncPercent}},[e._v("test")]):e._e(),e._v(" "),r("el-row",[r("el-col",{attrs:{span:24}},[r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading.work,expression:"loading.work"}],ref:"multipleTable",attrs:{data:e.data},on:{"selection-change":e.handleSelectionChange}},[r("el-table-column",{attrs:{prop:"seled",type:"selection",width:"55"}}),e._v(" "),r("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-table",{attrs:{data:t.row.entry}},e._l(e.entryFieldDic,function(e,t){return r("el-table-column",{key:t,attrs:{prop:t,label:e,width:"120"}})}),1)]}}])}),e._v(" "),e._l(e.fieldDic,function(e,t){return r("el-table-column",{key:t,attrs:{prop:t,label:e,width:"120"}})})],2)],1)],1)],1)],1)},staticRenderFns:[]},U=r("VU/8")(H,V,!1,null,null,null).exports,W={name:"PurIn",data:function(){return{filter:{date:"",store:"",cust:"",synced:!1,storeList:[]},loading:{fee:!1,work:!1,post:!1,issue:!1,issueEntry:!1,querying:!1,sync:!1,syncPercent:0},fieldDic:{inputNo:"入库单号",inputTime:"入库日期",relateNo:"采购单号",careNo:"业务单号",category:"入库类别",totalPrice:"入库金额",taxPrice:"入库含税金额",inputCount:"入库数量",buyerName:"采购人",purPrice:"采购金额",supplierName:"供应商",plateNo:"车牌",modelName:"车型",vinNo:"vin码",deptName:"所属门店"},entryFieldDic:{purchaseNo:"采购单号",buyTime:"采购日期",inputNo:"入库单号",inputTime1:"入库日期",relateNo:"业务单号",plateNo:"车牌",modelName:"车型",name:"客户",contact:"联系人",tel1:"电话",groupName:"材料目录名称",partName:"材料名称",brandName:"品牌",firmNo:"OEM",partType:"材料类别",partNo:"材料号",spec:"规格",barCode:"条码",selfNo:"自编码",inputTime:"批次",storeName:"仓库",positionName:"仓位",supplierName:"供应商",rawUnit:"单位",rawQuantity:"入库数量",rawBuyingPrice:"进价",buyingTotal:"进价总额",rawTaxPrice:"含税价",taxTotal:"含税价总额",salePrice:"出库价",receiverName:"服务顾问",purchaseStatus:"采购状态",applicant:"申请人",buyer:"采购人",handler:"入库人",creator:"入库操作人",deptName:"所属部门"},data:[],work:[],multipleSelection:[],activeName:"fee",sten:void 0,k3:void 0}},mounted:function(){this.init()},methods:{init:function(){var e=this;return o()(s.a.mark(function t(){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.sten=new g,e.k3=new I,t.next=4,e.sten.init();case 4:return t.next=6,e.sten.deptList();case 6:e.filter.storeList=t.sent;case 7:case"end":return t.stop()}},t,e)}))()},query:function(){var e=this;return o()(s.a.mark(function t(){var r,n,a,i,o,c,u;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.filter.date&&(r=e.filter.date[0].toLocaleDateString(),n=e.filter.date[1].toLocaleDateString()),e.loading.head=!0,e.loading.entry=!0,t.prev=3,t.next=6,e.sten.OtherIssue(r,n,e.filter.store,e.filter.cust);case 6:a=t.sent,e.data=a,e.$message("单头数据加载完毕"),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(3),e.$message.error(t.t0.message);case 14:return t.prev=14,t.next=17,e.sten.OtherIssueEntry();case 17:for(o in i=t.sent)for(u in c=i[o],e.data)e.data[u].inputNo===c.inputNo&&(e.data[u].entry||(e.data[u].entry=[]),e.data[u].entry.push(c));e.$message("明细数据加载完毕"),t.next=25;break;case 22:t.prev=22,t.t1=t.catch(14),e.$message.error(t.t1.message);case 25:e.loading.entry=!1;case 26:case"end":return t.stop()}},t,e,[[3,11],[14,22]])}))()},sync:function(){var e=this;return o()(s.a.mark(function t(){var r,n,a,i;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.loading.syncPercent=0,e.loading.sync=!0,r=e.multipleSelection,t.t0=s.a.keys(r);case 4:if((t.t1=t.t0()).done){t.next=15;break}return n=t.t1.value,a=r[n],t.next=9,e.k3.Sync(a);case 9:(i=t.sent).success||e.$message.error(i.info),console.log(n,e.multipleSelection.length),e.loading.syncPercent=parseInt(100*(n+1)/r.length),t.next=4;break;case 15:e.loading.sync=!1,e.query();case 17:case"end":return t.stop()}},t,e)}))()},handleSelectionChange:function(e){this.multipleSelection=e}}},B={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-divider",[e._v("其他出库")]),e._v(" "),r("el-form",{attrs:{inline:!0}},[r("el-form-item",[r("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.filter.date,callback:function(t){e.$set(e.filter,"date",t)},expression:"filter.date"}})],1),e._v(" "),r("el-form-item",[r("el-select",{attrs:{placeholder:"请选择"},model:{value:e.filter.store,callback:function(t){e.$set(e.filter,"store",t)},expression:"filter.store"}},e._l(e.filter.storeList,function(e){return r("el-option",{key:e.deptId,attrs:{label:e.deptName,value:e.deptId}})}),1)],1),e._v(" "),r("el-form-item",[r("el-button-group",[r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.query()}}},[e._v("查询")]),e._v(" "),r("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.loading.sync,expression:"loading.sync"}],attrs:{type:"primary",disabled:e.loading.work||e.loading.fee||e.loading.post||e.loading.issue||e.loading.issueEntry},on:{click:function(t){return e.sync()}}},[e._v("同步选中记录")])],1)],1),e._v(" "),e.loading.sync?r("el-progress",{attrs:{"text-inside":!0,"stroke-width":26,percentage:e.loading.syncPercent}},[e._v("test")]):e._e(),e._v(" "),r("el-row",[r("el-col",{attrs:{span:24}},[r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading.work,expression:"loading.work"}],ref:"multipleTable",attrs:{data:e.data},on:{"selection-change":e.handleSelectionChange}},[r("el-table-column",{attrs:{prop:"seled",type:"selection",width:"55"}}),e._v(" "),r("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-table",{attrs:{data:t.row.entry}},e._l(e.entryFieldDic,function(e,t){return r("el-table-column",{key:t,attrs:{prop:t,label:e,width:"120"}})}),1)]}}])}),e._v(" "),e._l(e.fieldDic,function(e,t){return r("el-table-column",{key:t,attrs:{prop:t,label:e,width:"120"}})})],2)],1)],1)],1)],1)},staticRenderFns:[]},Q=r("VU/8")(W,B,!1,null,null,null).exports,G={name:"MaterialReturn",data:function(){return{filter:{date:"",store:"",cust:"",synced:!1,storeList:[]},loading:{fee:!1,work:!1,post:!1,issue:!1,issueEntry:!1,querying:!1,sync:!1,syncPercent:0},fieldDic:{inputNo:"入库单号",inputTime:"入库日期",relateNo:"采购单号",careNo:"业务单号",category:"入库类别",totalPrice:"入库金额",taxPrice:"入库含税金额",inputCount:"入库数量",buyerName:"采购人",purPrice:"采购金额",supplierName:"供应商",plateNo:"车牌",modelName:"车型",vinNo:"vin码",deptName:"所属门店"},entryFieldDic:{purchaseNo:"采购单号",buyTime:"采购日期",inputNo:"入库单号",inputTime1:"入库日期",relateNo:"业务单号",plateNo:"车牌",modelName:"车型",name:"客户",contact:"联系人",tel1:"电话",groupName:"材料目录名称",partName:"材料名称",brandName:"品牌",firmNo:"OEM",partType:"材料类别",partNo:"材料号",spec:"规格",barCode:"条码",selfNo:"自编码",inputTime:"批次",storeName:"仓库",positionName:"仓位",supplierName:"供应商",rawUnit:"单位",rawQuantity:"入库数量",rawBuyingPrice:"进价",buyingTotal:"进价总额",rawTaxPrice:"含税价",taxTotal:"含税价总额",salePrice:"出库价",receiverName:"服务顾问",purchaseStatus:"采购状态",applicant:"申请人",buyer:"采购人",handler:"入库人",creator:"入库操作人",deptName:"所属部门"},data:[],work:[],multipleSelection:[],activeName:"fee",sten:void 0,k3:void 0}},mounted:function(){this.init()},methods:{init:function(){var e=this;return o()(s.a.mark(function t(){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.sten=new g,e.k3=new I,t.next=4,e.sten.init();case 4:return t.next=6,e.sten.deptList();case 6:e.filter.storeList=t.sent;case 7:case"end":return t.stop()}},t,e)}))()},query:function(){var e=this;return o()(s.a.mark(function t(){var r,n,a,i,o,c,u;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.filter.date&&(r=e.filter.date[0].toLocaleDateString(),n=e.filter.date[1].toLocaleDateString()),e.loading.head=!0,e.loading.entry=!0,t.prev=3,t.next=6,e.sten.MaterialReturn(r,n,e.filter.store,e.filter.cust);case 6:a=t.sent,e.data=a,e.$message("单头数据加载完毕"),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(3),e.$message.error(t.t0.message);case 14:return t.prev=14,t.next=17,e.sten.MaterialReturnEntry();case 17:for(o in i=t.sent)for(u in c=i[o],e.data)e.data[u].inputNo===c.inputNo&&(e.data[u].entry||(e.data[u].entry=[]),e.data[u].entry.push(c));e.$message("明细数据加载完毕"),t.next=25;break;case 22:t.prev=22,t.t1=t.catch(14),e.$message.error(t.t1.message);case 25:e.loading.entry=!1;case 26:case"end":return t.stop()}},t,e,[[3,11],[14,22]])}))()},sync:function(){var e=this;return o()(s.a.mark(function t(){var r,n,a,i;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.loading.syncPercent=0,e.loading.sync=!0,r=e.multipleSelection,t.t0=s.a.keys(r);case 4:if((t.t1=t.t0()).done){t.next=15;break}return n=t.t1.value,a=r[n],t.next=9,e.k3.Sync(a);case 9:(i=t.sent).success||e.$message.error(i.info),console.log(n,e.multipleSelection.length),e.loading.syncPercent=parseInt(100*(n+1)/r.length),t.next=4;break;case 15:e.loading.sync=!1,e.query();case 17:case"end":return t.stop()}},t,e)}))()},handleSelectionChange:function(e){this.multipleSelection=e}}},X={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-divider",[e._v("退料")]),e._v(" "),r("el-form",{attrs:{inline:!0}},[r("el-form-item",[r("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.filter.date,callback:function(t){e.$set(e.filter,"date",t)},expression:"filter.date"}})],1),e._v(" "),r("el-form-item",[r("el-select",{attrs:{placeholder:"请选择"},model:{value:e.filter.store,callback:function(t){e.$set(e.filter,"store",t)},expression:"filter.store"}},e._l(e.filter.storeList,function(e){return r("el-option",{key:e.deptId,attrs:{label:e.deptName,value:e.deptId}})}),1)],1),e._v(" "),r("el-form-item",[r("el-button-group",[r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.query()}}},[e._v("查询")]),e._v(" "),r("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.loading.sync,expression:"loading.sync"}],attrs:{type:"primary",disabled:e.loading.work||e.loading.fee||e.loading.post||e.loading.issue||e.loading.issueEntry},on:{click:function(t){return e.sync()}}},[e._v("同步选中记录")])],1)],1),e._v(" "),e.loading.sync?r("el-progress",{attrs:{"text-inside":!0,"stroke-width":26,percentage:e.loading.syncPercent}},[e._v("test")]):e._e(),e._v(" "),r("el-row",[r("el-col",{attrs:{span:24}},[r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading.work,expression:"loading.work"}],ref:"multipleTable",attrs:{data:e.data},on:{"selection-change":e.handleSelectionChange}},[r("el-table-column",{attrs:{prop:"seled",type:"selection",width:"55"}}),e._v(" "),r("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-table",{attrs:{data:t.row.entry}},e._l(e.entryFieldDic,function(e,t){return r("el-table-column",{key:t,attrs:{prop:t,label:e,width:"120"}})}),1)]}}])}),e._v(" "),e._l(e.fieldDic,function(e,t){return r("el-table-column",{key:t,attrs:{prop:t,label:e,width:"120"}})})],2)],1)],1)],1)],1)},staticRenderFns:[]},J=r("VU/8")(G,X,!1,null,null,null).exports,K={name:"Achievement",data:function(){return{filter:{date:"",store:"",cust:"",synced:!1,storeList:[]},loading:{fee:!1,work:!1,post:!1,issue:!1,issueEntry:!1,querying:!1,sync:!1,syncPercent:0},fieldDic:{inputNo:"入库单号",inputTime:"入库日期",relateNo:"采购单号",careNo:"业务单号",category:"入库类别",totalPrice:"入库金额",taxPrice:"入库含税金额",inputCount:"入库数量",buyerName:"采购人",purPrice:"采购金额",supplierName:"供应商",plateNo:"车牌",modelName:"车型",vinNo:"vin码",deptName:"所属门店"},entryFieldDic:{purchaseNo:"采购单号",buyTime:"采购日期",inputNo:"入库单号",inputTime1:"入库日期",relateNo:"业务单号",plateNo:"车牌",modelName:"车型",name:"客户",contact:"联系人",tel1:"电话",groupName:"材料目录名称",partName:"材料名称",brandName:"品牌",firmNo:"OEM",partType:"材料类别",partNo:"材料号",spec:"规格",barCode:"条码",selfNo:"自编码",inputTime:"批次",storeName:"仓库",positionName:"仓位",supplierName:"供应商",rawUnit:"单位",rawQuantity:"入库数量",rawBuyingPrice:"进价",buyingTotal:"进价总额",rawTaxPrice:"含税价",taxTotal:"含税价总额",salePrice:"出库价",receiverName:"服务顾问",purchaseStatus:"采购状态",applicant:"申请人",buyer:"采购人",handler:"入库人",creator:"入库操作人",deptName:"所属部门"},data:[],work:[],multipleSelection:[],activeName:"fee",sten:void 0,k3:void 0}},mounted:function(){this.init()},methods:{init:function(){var e=this;return o()(s.a.mark(function t(){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.sten=new g,e.k3=new I,t.next=4,e.sten.init();case 4:return t.next=6,e.sten.deptList();case 6:e.filter.storeList=t.sent;case 7:case"end":return t.stop()}},t,e)}))()},query:function(){var e=this;return o()(s.a.mark(function t(){var r,n,a;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.filter.date&&(r=e.filter.date[0].toLocaleDateString(),n=e.filter.date[1].toLocaleDateString()),e.loading.head=!0,e.loading.entry=!0,t.prev=3,t.next=6,e.sten.Achievement(r,n,e.filter.store,e.filter.cust);case 6:a=t.sent,e.data=a,e.$message("单头数据加载完毕"),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(3),e.$message.error(t.t0.message);case 14:case"end":return t.stop()}},t,e,[[3,11]])}))()},sync:function(){var e=this;return o()(s.a.mark(function t(){var r,n,a,i;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.loading.syncPercent=0,e.loading.sync=!0,r=e.multipleSelection,t.t0=s.a.keys(r);case 4:if((t.t1=t.t0()).done){t.next=15;break}return n=t.t1.value,a=r[n],t.next=9,e.k3.Sync(a);case 9:(i=t.sent).success||e.$message.error(i.info),console.log(n,e.multipleSelection.length),e.loading.syncPercent=parseInt(100*(n+1)/r.length),t.next=4;break;case 15:e.loading.sync=!1,e.query();case 17:case"end":return t.stop()}},t,e)}))()},handleSelectionChange:function(e){this.multipleSelection=e}}},Z={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-divider",[e._v("施工业绩")]),e._v(" "),r("el-form",{attrs:{inline:!0}},[r("el-form-item",[r("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.filter.date,callback:function(t){e.$set(e.filter,"date",t)},expression:"filter.date"}})],1),e._v(" "),r("el-form-item",[r("el-select",{attrs:{placeholder:"请选择"},model:{value:e.filter.store,callback:function(t){e.$set(e.filter,"store",t)},expression:"filter.store"}},e._l(e.filter.storeList,function(e){return r("el-option",{key:e.deptId,attrs:{label:e.deptName,value:e.deptId}})}),1)],1),e._v(" "),r("el-form-item",[r("el-button-group",[r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.query()}}},[e._v("查询")]),e._v(" "),r("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.loading.sync,expression:"loading.sync"}],attrs:{type:"primary",disabled:e.loading.work||e.loading.fee||e.loading.post||e.loading.issue||e.loading.issueEntry},on:{click:function(t){return e.sync()}}},[e._v("同步选中记录")])],1)],1),e._v(" "),e.loading.sync?r("el-progress",{attrs:{"text-inside":!0,"stroke-width":26,percentage:e.loading.syncPercent}},[e._v("test")]):e._e(),e._v(" "),r("el-row",[r("el-col",{attrs:{span:24}},[r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading.work,expression:"loading.work"}],ref:"multipleTable",attrs:{data:e.data},on:{"selection-change":e.handleSelectionChange}},[r("el-table-column",{attrs:{prop:"seled",type:"selection",width:"55"}}),e._v(" "),e._l(e.fieldDic,function(e,t){return r("el-table-column",{key:t,attrs:{prop:t,label:e,width:"120"}})})],2)],1)],1)],1)],1)},staticRenderFns:[]},ee=r("VU/8")(K,Z,!1,null,null,null).exports;n.default.use(x.a);var te=new x.a({routes:[{path:"/test",name:"Test",component:T},{path:"/",name:"StenWork",component:M},{path:"/PurIn",name:"PurIn",component:R},{path:"/PurReturn",name:"PurReturn",component:C},{path:"/Stocktaking",name:"Stocktaking",component:A},{path:"/OtherIn",name:"OtherIn",component:U},{path:"/OtherIssue_Give",name:"OtherIssue_Give",component:Q},{path:"/OtherIssue_Loss",name:"OtherIssue_Loss",component:Q},{path:"/OtherIssue_Tailings",name:"OtherIssue_Tailings",component:Q},{path:"/MatRet",name:"MatRet",component:J},{path:"/Achievement",name:"Achievement",component:ee}]}),re=(r("tvR6"),r("J373"),r("zL8q")),ne=r.n(re);n.default.use(ne.a),n.default.config.productionTip=!1,new n.default({el:"#app",router:te,components:{App:b},template:"<App/>"})},tvR6:function(e,t){},uslO:function(e,t,r){var n={"./af":"3CJN","./af.js":"3CJN","./ar":"3MVc","./ar-dz":"tkWw","./ar-dz.js":"tkWw","./ar-kw":"j8cJ","./ar-kw.js":"j8cJ","./ar-ly":"wPpW","./ar-ly.js":"wPpW","./ar-ma":"dURR","./ar-ma.js":"dURR","./ar-sa":"7OnE","./ar-sa.js":"7OnE","./ar-tn":"BEem","./ar-tn.js":"BEem","./ar.js":"3MVc","./az":"eHwN","./az.js":"eHwN","./be":"3hfc","./be.js":"3hfc","./bg":"lOED","./bg.js":"lOED","./bm":"hng5","./bm.js":"hng5","./bn":"aM0x","./bn-bd":"1C9R","./bn-bd.js":"1C9R","./bn.js":"aM0x","./bo":"w2Hs","./bo.js":"w2Hs","./br":"OSsP","./br.js":"OSsP","./bs":"aqvp","./bs.js":"aqvp","./ca":"wIgY","./ca.js":"wIgY","./cs":"ssxj","./cs.js":"ssxj","./cv":"N3vo","./cv.js":"N3vo","./cy":"ZFGz","./cy.js":"ZFGz","./da":"YBA/","./da.js":"YBA/","./de":"DOkx","./de-at":"8v14","./de-at.js":"8v14","./de-ch":"Frex","./de-ch.js":"Frex","./de.js":"DOkx","./dv":"rIuo","./dv.js":"rIuo","./el":"CFqe","./el.js":"CFqe","./en-au":"Sjoy","./en-au.js":"Sjoy","./en-ca":"Tqun","./en-ca.js":"Tqun","./en-gb":"hPuz","./en-gb.js":"hPuz","./en-ie":"ALEw","./en-ie.js":"ALEw","./en-il":"QZk1","./en-il.js":"QZk1","./en-in":"yJfC","./en-in.js":"yJfC","./en-nz":"dyB6","./en-nz.js":"dyB6","./en-sg":"NYST","./en-sg.js":"NYST","./eo":"Nd3h","./eo.js":"Nd3h","./es":"LT9G","./es-do":"7MHZ","./es-do.js":"7MHZ","./es-mx":"USNP","./es-mx.js":"USNP","./es-us":"INcR","./es-us.js":"INcR","./es.js":"LT9G","./et":"XlWM","./et.js":"XlWM","./eu":"sqLM","./eu.js":"sqLM","./fa":"2pmY","./fa.js":"2pmY","./fi":"nS2h","./fi.js":"nS2h","./fil":"rMbQ","./fil.js":"rMbQ","./fo":"OVPi","./fo.js":"OVPi","./fr":"tzHd","./fr-ca":"bXQP","./fr-ca.js":"bXQP","./fr-ch":"VK9h","./fr-ch.js":"VK9h","./fr.js":"tzHd","./fy":"g7KF","./fy.js":"g7KF","./ga":"U5Iz","./ga.js":"U5Iz","./gd":"nLOz","./gd.js":"nLOz","./gl":"FuaP","./gl.js":"FuaP","./gom-deva":"VGQH","./gom-deva.js":"VGQH","./gom-latn":"+27R","./gom-latn.js":"+27R","./gu":"rtsW","./gu.js":"rtsW","./he":"Nzt2","./he.js":"Nzt2","./hi":"ETHv","./hi.js":"ETHv","./hr":"V4qH","./hr.js":"V4qH","./hu":"xne+","./hu.js":"xne+","./hy-am":"GrS7","./hy-am.js":"GrS7","./id":"yRTJ","./id.js":"yRTJ","./is":"upln","./is.js":"upln","./it":"FKXc","./it-ch":"/E8D","./it-ch.js":"/E8D","./it.js":"FKXc","./ja":"ORgI","./ja.js":"ORgI","./jv":"JwiF","./jv.js":"JwiF","./ka":"RnJI","./ka.js":"RnJI","./kk":"j+vx","./kk.js":"j+vx","./km":"5j66","./km.js":"5j66","./kn":"gEQe","./kn.js":"gEQe","./ko":"eBB/","./ko.js":"eBB/","./ku":"kI9l","./ku.js":"kI9l","./ky":"6cf8","./ky.js":"6cf8","./lb":"z3hR","./lb.js":"z3hR","./lo":"nE8X","./lo.js":"nE8X","./lt":"/6P1","./lt.js":"/6P1","./lv":"jxEH","./lv.js":"jxEH","./me":"svD2","./me.js":"svD2","./mi":"gEU3","./mi.js":"gEU3","./mk":"Ab7C","./mk.js":"Ab7C","./ml":"oo1B","./ml.js":"oo1B","./mn":"CqHt","./mn.js":"CqHt","./mr":"5vPg","./mr.js":"5vPg","./ms":"ooba","./ms-my":"G++c","./ms-my.js":"G++c","./ms.js":"ooba","./mt":"oCzW","./mt.js":"oCzW","./my":"F+2e","./my.js":"F+2e","./nb":"FlzV","./nb.js":"FlzV","./ne":"/mhn","./ne.js":"/mhn","./nl":"3K28","./nl-be":"Bp2f","./nl-be.js":"Bp2f","./nl.js":"3K28","./nn":"C7av","./nn.js":"C7av","./oc-lnc":"KOFO","./oc-lnc.js":"KOFO","./pa-in":"pfs9","./pa-in.js":"pfs9","./pl":"7LV+","./pl.js":"7LV+","./pt":"ZoSI","./pt-br":"AoDM","./pt-br.js":"AoDM","./pt.js":"ZoSI","./ro":"wT5f","./ro.js":"wT5f","./ru":"ulq9","./ru.js":"ulq9","./sd":"fW1y","./sd.js":"fW1y","./se":"5Omq","./se.js":"5Omq","./si":"Lgqo","./si.js":"Lgqo","./sk":"OUMt","./sk.js":"OUMt","./sl":"2s1U","./sl.js":"2s1U","./sq":"V0td","./sq.js":"V0td","./sr":"f4W3","./sr-cyrl":"c1x4","./sr-cyrl.js":"c1x4","./sr.js":"f4W3","./ss":"7Q8x","./ss.js":"7Q8x","./sv":"Fpqq","./sv.js":"Fpqq","./sw":"DSXN","./sw.js":"DSXN","./ta":"+7/x","./ta.js":"+7/x","./te":"Nlnz","./te.js":"Nlnz","./tet":"gUgh","./tet.js":"gUgh","./tg":"5SNd","./tg.js":"5SNd","./th":"XzD+","./th.js":"XzD+","./tk":"+WRH","./tk.js":"+WRH","./tl-ph":"3LKG","./tl-ph.js":"3LKG","./tlh":"m7yE","./tlh.js":"m7yE","./tr":"k+5o","./tr.js":"k+5o","./tzl":"iNtv","./tzl.js":"iNtv","./tzm":"FRPF","./tzm-latn":"krPU","./tzm-latn.js":"krPU","./tzm.js":"FRPF","./ug-cn":"To0v","./ug-cn.js":"To0v","./uk":"ntHu","./uk.js":"ntHu","./ur":"uSe8","./ur.js":"uSe8","./uz":"XU1s","./uz-latn":"/bsm","./uz-latn.js":"/bsm","./uz.js":"XU1s","./vi":"0X8Q","./vi.js":"0X8Q","./x-pseudo":"e/KL","./x-pseudo.js":"e/KL","./yo":"YXlc","./yo.js":"YXlc","./zh-cn":"Vz2w","./zh-cn.js":"Vz2w","./zh-hk":"ZUyn","./zh-hk.js":"ZUyn","./zh-mo":"+WA1","./zh-mo.js":"+WA1","./zh-tw":"BbgG","./zh-tw.js":"BbgG"};function a(e){return r(s(e))}function s(e){var t=n[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}a.keys=function(){return Object.keys(n)},a.resolve=s,e.exports=a,a.id="uslO"}},["NHnr"]);
//# sourceMappingURL=app.46b7d29c59b0ce47d564.js.map